<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Gestión de Productos - Papaya Admin</title>
<link rel="stylesheet" href="/css/admin-styles.css">
<link rel="icon" href="/imagenes_base/favicon/favicon.ico" type="image/x-icon">
</head>
<body>

<!-- Insertar menú común -->
<div th:replace="~{fragments/general.html :: menu}"></div>

<!-- Contenedor principal -->
<div class="contenedor-admin">
    <!-- Header de la sección -->
    <div class="seccion-header">
        <div>
            <h1 th:text="#{gestion.titulo}">Gestión de Productos</h1>
<p class="seccion-subtitle" th:text="#{gestion.subtitulo}">Administra tu inventario de alimentos</p> 
        </div>
        <a href="registrarAlimento" class="btn-nuevo-producto">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            <span th:text="#{enlaces.registrar.alimento}">Nuevo Producto</span>
        </a>
    </div>
    
    <!-- Contenedor de productos horizontal -->
    <div class="seccion-productos-horizontal">
        <div class="container-productos-horizontal">
            <!-- Botón scroll izquierda -->
            <button class="scroll-btn scroll-btn-left" onclick="scrollProductos('left')">‹</button>
            
            <!-- Scroll horizontal de productos -->
            <div class="productos-scroll-horizontal" id="productos-scroll">
                <div class="producto-card-horizontal" th:each="alimento: ${alimentos}">
                    <!-- Badge de categoría -->
                    <div class="badge-descuento" th:text="${alimento.categoria}">Categoría</div>
                    
                    <!-- Imagen del producto -->
                    <div class="producto-imagen-horizontal">
                        <img th:src="@{${'../mostrar_imagen?id=' + alimento.id}}" 
                             th:alt="${alimento.nombre}">
                    </div>
                    
                    <!-- Información del producto -->
                    <div class="producto-info-horizontal">
                        <h3 class="producto-titulo-horizontal" th:text="${alimento.nombre}">Nombre del producto</h3>
                        
                        <!-- Meta información -->
                        <div class="meta">
                            <div><strong th:text="#{form.precio}">Precio:</strong> <span th:text="${alimento.precio} + ' $'">10.00 $</span></div>
                            <div><strong th:text="#{form.cantidad}">Stock:</strong> <span th:text="${alimento.cantidad}">100</span></div>
                            <div><strong th:text="#{form.peso}">Peso:</strong> <span th:text="${alimento.peso} + ' kg'">1.5 kg</span></div>
                        </div>
                        
                        <p class="producto-descripcion-mini" th:text="${alimento.descripcion}">Descripción breve del producto</p>
                        
                        <!-- Botones de acción -->
                        <div class="producto-acciones-horizontal">
                            <a th:href="@{${'editarAlimento?id=' + alimento.id}}" 
                               class="btn-accion-mini btn-editar-mini"
                               title="Editar">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                            </a>
                            
                            <a th:href="@{${'borrarAlimento?id=' + alimento.id}}" 
                               class="btn-accion-mini btn-eliminar-mini"
                               onclick="return confirm('¿Estás seguro de que deseas eliminar este producto?')"
                               title="Eliminar">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3 6 5 6 21 6"></polyline>
                                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Botón scroll derecha -->
            <button class="scroll-btn scroll-btn-right" onclick="scrollProductos('right')">›</button>
        </div>
    </div>
    </script>   
    <!-- Mensaje si no hay productos -->
    <div class="mensaje-vacio" th:if="${#lists.isEmpty(alimentos)}">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        <h3>No hay productos registrados</h3>
        <p>Comienza agregando tu primer producto</p>
        <a href="registrarAlimento" class="btn-agregar-primero">
            Agregar producto
        </a>
    </div>
</div>

<script src="/javascript/scroll-header.js"></script>

</body>
</html>